<nav-bar></nav-bar>
<div class="groups">
  <div class="page-content">
    <div class="create-group">
      <button ng-click="toggleModal()">Create New Group</button>
      <modal-dialog show="modalShown">
        <form name="createGroupForm"> 
          <label>name </label><input ng-model="newGroup.name"/>
          <label>description </label><input ng-model="newGroup.description"/>
          <button ng-click="createGroup()" ng-disabled="createGroupForm.$invalid">Create Group</button>
        </form>
      </modal-dialog>
    </div>
    <!-- List of pending groups -->
    <div class="group-list">
      <div ng-repeat="group in data.pendingGroups | orderBy:'-timestamp'" class="group" style="background-color:#005000">
        {{ group.name }}
        <i class="invite-icon fa fa-check-circle-o fa-2x" ng-click="acceptInvite(group)"></i>
        <i class="invite-icon fa fa-times fa-2x" ng-click="rejectInvite(group)"></i>
      </div>
    </div>
    <!-- Current group -->
    <div class="group"> {{ user.currentGroup.name }}        
      <a href="/#/group/settings" ng-show="data.isAdmin">
        <i class="invite-icon fa fa-cog fa-2x"></i>
      </a>
    </div>
    <div class ="users-container">
      <div ng-repeat="user in data.users.admin | orderBy:'-timestamp'">
        <div class="user-container" style="border:1px solid black">
          <img src={{user.avatarURL}} class="nav-avatar-img">
          <div> {{ user.displayName }} </div>
        </div>
      </div>
      <div ng-repeat="user in data.users.member | orderBy:'-timestamp'">
        <div class="user-container">
          <img src={{user.avatarURL}} class="nav-avatar-img">
          <div> {{ user.displayName }} </div>
        </div>
      </div>
      <div ng-repeat="user in data.users.pending | orderBy:'-timestamp'">
        <div class="user-container" style="opacity:0.5">
          <img src={{user.avatarURL}} class="nav-avatar-img">
          <div> {{ user.displayName }} </div>
        </div>
      </div>
    </div>
    <!-- Other groups -->
    <div class="group-list">
      <div ng-repeat="group in data.adminGroups | orderBy:'-timestamp'" class="group" ng-click="setCurrentGroup(group)" ng-show="isNotCurrentGroup(group)">
        {{ group.name }}
        <a href="/#/group/settings">
          <i class="invite-icon fa fa-cog fa-2x"></i>
        </a>
      </div>
    </div>
    <div class="group-list">
      <div ng-repeat="group in data.memberGroups | orderBy:'-timestamp'" class="group" ng-click="setCurrentGroup(group)" ng-show="isNotCurrentGroup(group)">
        <div> {{ group.name }} </div>
      </div>
    </div>
  </div>
  <footer>
    <player></player>
  </footer>
</div>