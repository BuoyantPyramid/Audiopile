<nav-bar></nav-bar>
<div class="songs page-content">
  <div class="page-content">
    <div class="add-song-to-playlist">
      <button ng-click="toggleModal()">Add to Playlist</button>
      <modal-dialog show="modalShown">
        <h4>Click a playlist to add the song</h4>
        <ul ng-repeat="playlist in data.playlists" >
          <!-- ng-repeat of playlists in current group -->
          <a href><li ng-click="addToPlaylist(playlist.id); $parent.toggleModal()">{{playlist.title}}</li></a>
        </ul>
      </modal-dialog>
    </div>
    <div class='message'>{{message}}</div>
    <h2 class="heading">Songs</h2>
    <label for="search">Search: </label>
    <input ng-model="query" type="text" name="search" />
    <button class="refresh-button" ng-click="refreshSongs()">refresh</button>
    <div ng-repeat="song in data.songs | filter:query | orderBy:'-timestamp'" class="song">
      <hr>
      <div class="info">
        <song-view song="song" songList="data.songs" index="$index" ></song-view>
        <button ng-click="$parent.newSong = song; toggleModal()">Add to Playlist</button>
      </div>
    </div>
    <groups-nav></groups-nav>
  </div>
</div>