  <nav-bar></nav-bar>
  <div class="playlist page-content">
    <h2>Playlist</h2>
    <div class="create-playlist">
      <button ng-click="toggleCreateModal()"><i class="fa fa-plus-circle"></i> Create New Playlist</button>
      <!-- Create modal -->
      <modal-dialog class="modal" show="createModalShown">
        <form name="createPlayForm">
          <fieldset>
          <legend>Create a new playlist</legend>
            <label>title
              <input type="text" ng-model="newPlaylist.title" required/>
            </label>
            <label>description
              <input type="text" ng-model="newPlaylist.description"/>
            </label>
            <button ng-click="createPlaylist()" ng-disabled="createPlayForm.$invalid">Create Playlist</button>
          </fieldset>
        </form>
      </modal-dialog>
      <!-- Destroy modal -->
      <modal-dialog class="modal" show="destroyModalShown">
        <form name="destroyPlayForm">
          <fieldset>
          <legend>Delete this playlist?</legend>
            <p>{{pendingPlaylist.title}}</p>
            <button ng-click="deletePlaylist($parent.pendingPlaylist)">Yes, do it!</button>
          </fieldset>
        </form>
      </modal-dialog>

    </div>
     <div ng-show="models.playlists.length === 0" class="empty-placeholder">
        Your group doesn't have any playlists. Click the button above to create one.
      </div>
    <div ng-repeat="playlist in models.playlists">
      <button class="delete-button icon-button" title="delete playlist" ng-click="pendingDeletePlaylist(playlist)"><i class="fa fa-trash fa-lg"></i></button>
      <button class="clickable-playlist" ng-click="makeCurrent(playlist)">{{playlist.title}}</button>
    </div>
    <div class="droplist">
      <ul dnd-list="models.currentPlaylist"
      dnd-drop="dropCallback(event, index, song, external, type)">
        <li ng-repeat="song in models.currentPlaylist.songs | orderBy: playlistSongs.listPosition track by $index"
        ng-mousedown="models.selected=song" 
        dnd-draggable="song"
        dnd-moved="models.currentPlaylist.splice($index, 1)"
        dnd-effect-allowed="move"
        ng-class="{'selected': models.selected === item}"
        >
          <button class="delete-button icon-button" title="delete song" ng-click="deleteSong($index)"><i class="fa fa-trash fa-lg"></i></button>
          <div class="info">
            <song-view song="song" index="$index" ></song-view>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <footer>
    <player></player>
  </footer>
