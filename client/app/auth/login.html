<div class="login">
  <header>
    <div class="cover-title">
      <h1>Audiopile</h1>
      <i class="fa fa-headphones fa-3x"></i>
      <button ng-click="showSignupModal()">Signup</button>
      <button ng-click="showLoginModal()">Login</button>
    </div>
  <modal-dialog show="showLogin">
    <form name="loginForm" class="login-form">
      <fieldset>
        <legend>Login</legend>
        <label>
          <input ng-focus="loginError = signupError = '';" name="email" ng-field ng-model="user.email" placeholder="email" type="email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" ng-model-options="{ updateOn: 'blur' }" required />
          <div class="field-error">
            <span ng-show="loginForm.email.$error.required && loginForm.email.$dirty">Required!</span>
            <span ng-show="loginForm.email.$error.email">Not valid email!</span>
          </div>
        </label>
        <label>
          <input type="password" name="password" ng-model="user.password" placeholder="password" ng-focus="loginError = signupError = '';"  my-enter="login()" required />
          <div class="field-error">
            <span ng-show="loginForm.password.$error.required && loginForm.password.$dirty">Required!</span>
          </div>
        </label>
        <div class="form-buttons">
          <button class="button-primary" ng-click="login()" ng-disabled="loginForm.$invalid || confirm">Login</button>
          <!-- <button ng-click="confirm = true" ng-disabled="loginForm.$invalid || confirm">Signup</button> -->
          <div class="field-error">
            <span ng-show="loginError">{{loginError}}</span>
          </div>
        </div>
        </fieldset>
      </form>
    </modal-dialog>

    <modal-dialog show="showSignup">
    <form name="loginForm" class="login-form">
      <fieldset>
        <legend>Signup</legend>
          <label>
            <input ng-focus="loginError = signupError = '';" name="email" ng-field ng-model="user.email" placeholder="email" type="email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" ng-model-options="{ updateOn: 'blur' }" required />
            <div class="field-error">
              <span ng-show="loginForm.email.$error.required && loginForm.email.$dirty">Required!</span>
              <span ng-show="loginForm.email.$error.email">Not valid email!</span>
            </div>
          </label>
          <label>
            <input ng-focus="loginError = signupError = '';" type="password" name="passwordConfirm" ng-model="newPassword" placeholder="confirm password" my-enter="signup(newPassword)" ng-minlength="8" />

            <div class="field-error">
              <span ng-show="loginForm.email.$error.required && loginForm.email.$dirty">Required!</span>
              <span ng-show="loginForm.email.$error.email">Not valid email!</span>
            </div>
          </label>
          <label>
            <input type="password" name="password" ng-model="user.password" placeholder="password" ng-focus="loginError = signupError = '';"  my-enter="login()" required />
            <div class="field-error">
              <span ng-show="loginForm.password.$error.required && loginForm.password.$dirty">Required!</span>
            </div>
          </label>
          <div class="form-buttons">
            <button ng-click="signup(newPassword)" ng-disabled="loginForm.$invalid || confirm">Signup</button>
            <div class="field-error">
              <span ng-show="loginError">{{loginError}}</span>
            </div>
          </div>
        </fieldset>
      </form>
    </modal-dialog>
  </header>
  <section ng-style='backImage'>
    <div class="section-content">
      <ul>
          <li><span>Upload music to share with your band</span></li>
          <li><span>All your recordings in one place</span></li>
          <li><span>Automatic audio file compression</span></li>
          <li><span>Seamless streaming on desktop and mobile</span></li>
      </ul>
      <h2>Login or signup to put all your audio on the pile</h2>
    </div>
  </section>
</div>
